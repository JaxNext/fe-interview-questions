---
layout: ../layouts/MarkdownLayout.astro
title: '00006 寻找最大葫芦'
tags: ['算法']
---

# Q

问题描述

https://www.marscode.cn/practice/7o260pdr1n45n6?problem_id=7414004855077584940

在一场经典的德州扑克游戏中，有一种牌型叫做“葫芦”。“葫芦”由五张牌组成，其中包括三张相同牌面值的牌 a 和另外两张相同牌面值的牌 
b。如果两个人同时拥有“葫芦”，我们会优先比较牌 a 的大小，若牌  a 相同则再比较牌 b 的大小，牌面值的大小规则为：1 (A) > K > Q > J > 10 > 9 > ... > 2，其中 1 (A) 的牌面值为1，K 为13，依此类推。

在这个问题中，我们对“葫芦”增加了一个限制：组成“葫芦”的五张牌牌面值之和不能超过给定的最大值 max。

给定一组牌，你需要找到符合规则的最大的“葫芦”组合，并输出其中三张相同的牌面和两张相同的牌面。如果找不到符合条件的“葫芦”，则输出 “0, 0”。

测试样例
样例1：

输入：n = 9, max = 34, array = [6, 6, 6, 8, 8, 8, 5, 5, 1]
输出：[8, 5]
说明：array数组中可组成4个葫芦，分别为[6,6,6,8,8],[6,6,6,5,5],[8,8,8,6,6],[8,8,8,5,5]。其中[8,8,8,6,6]的牌面值为36，大于34不符合要求。剩下的3个葫芦的大小关系为[8,8,8,5,5]>[6,6,6,8,8]>[6,6,6,5,5],故返回[8,5]

样例2：

输入：n = 9, max = 37, array = [9, 9, 9, 9, 6, 6, 6, 6, 13]
输出：[6, 9]
说明：可组成2个葫芦，分别为[9,9,9,6,6]和[6,6,6,9,9],由于[9,9,9,6,6]的牌面值为39，大于37，故返回[6,9]

样例3：

输入：n = 9, max = 40, array = [1, 11, 13, 12, 7, 8, 11, 5, 6]
输出：[0, 0]
说明：无法组成任何葫芦，故返回[0,0]

样例4：

输入：n = 6, max = 50, array = [13, 13, 13, 1, 1, 1]
输出：[1, 13]
说明：可组成两个葫芦，分别为[A,A,A,K,K]和[K,K,K,A,A],两者牌面值都小于50，故都合法。因为三张相同牌面值的A > K,故[A,A,A,K,K]比[K,K,K,A,A]要大，返回[1,13]

# A



# 总结

- map 是类对象结构，所以用 get 和 set 存取
- 遍历 map 的键值对，直接用 map.entries(), 返回二维数组
- 思路：先把数组里能凑齐 3 张的和能凑齐 2 张的分别挑出来（两个组可能有重复），然后排列组合，找出所有小于 max 的组合，最后排序找出牌面最大的

<script>
  function func(array, max) {
    const map = new Map()
    for (let x of array) {
      map.set(x, (map.get(x) || 0) + 1)
    }
    const res = []
    const trippleList = []
    const doubleList = []
    for (let [k1, v1] of map.entries()) {
      if (v1 < 3) continue
      for (let [k2, v2] of map.entries()) {
        if (v2 < 2
          || k1 === k2
          || max < k1 * 3 + k2 * 2
        ) continue
        res.push([k1, k2].map(x => {
          if (x === 1) return 14
          return x
        }))
      }
    }
    if (!res.length) return [0, 0]
    res.sort(([a1, a2], [b1, b2]) => {
      if (a1 === b1) return b2 - a2
      return a2 - a1
    })
    return res[0].map(x => {
      if (x === 14) return 1
      return x
    })
  }
  console.log(func([13, 13, 13, 1, 1, 1], 50))
  console.log(func([6, 6, 6, 8, 8, 8, 5, 5, 1], 34))
  console.log(func([9, 9, 9, 9, 6, 6, 6, 6, 13], 37))
</script>